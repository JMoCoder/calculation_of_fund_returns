<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æ”¶ç›Šåˆ†é…æµ‹ç®—ç³»ç»Ÿ - å›¾è¡¨å¯è§†åŒ–</title>
    <style>
        :root {
            /* ä¸»è‰²è°ƒ */
            --primary-color: #1890ff;
            --primary-light: #40a9ff;
            --primary-dark: #096dd9;
            
            /* è¾…åŠ©è‰² */
            --secondary-color: #52c41a;
            --warning-color: #faad14;
            --error-color: #ff4d4f;
            --info-color: #13c2c2;
            
            /* å›¾è¡¨è‰²å½© */
            --chart-color-1: #1890ff;
            --chart-color-2: #52c41a;
            --chart-color-3: #faad14;
            --chart-color-4: #ff4d4f;
            --chart-color-5: #722ed1;
            --chart-color-6: #13c2c2;
            --chart-color-7: #eb2f96;
            --chart-color-8: #fa8c16;
            
            /* æ–‡å­—é¢œè‰² */
            --text-primary: #262626;
            --text-secondary: #595959;
            --text-disabled: #bfbfbf;
            --text-inverse: #ffffff;
            
            /* èƒŒæ™¯é¢œè‰² */
            --bg-primary: #ffffff;
            --bg-secondary: #fafafa;
            --bg-tertiary: #f5f5f5;
            
            /* è¾¹æ¡†é¢œè‰² */
            --border-primary: #d9d9d9;
            --border-secondary: #f0f0f0;
            --border-focus: #40a9ff;
            
            /* é—´è· */
            --spacing-xs: 4px;
            --spacing-sm: 8px;
            --spacing-md: 16px;
            --spacing-lg: 24px;
            --spacing-xl: 32px;
            --spacing-xxl: 48px;
            
            /* åœ†è§’å’Œé˜´å½± */
            --border-radius-sm: 2px;
            --border-radius-md: 4px;
            --border-radius-lg: 8px;
            --border-radius-xl: 12px;
            --shadow-sm: 0 1px 3px rgba(0, 0, 0, 0.12);
            --shadow-md: 0 4px 6px rgba(0, 0, 0, 0.1);
            --shadow-lg: 0 10px 15px rgba(0, 0, 0, 0.1);
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, 'Helvetica Neue', Arial, sans-serif;
            background-color: var(--bg-secondary);
            color: var(--text-primary);
            line-height: 1.6;
        }
        
        .container {
            max-width: 1600px;
            margin: 0 auto;
            padding: var(--spacing-lg);
        }
        
        /* å¡ç‰‡æ ·å¼ */
        .card {
            background-color: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            padding: var(--spacing-xl);
            margin-bottom: var(--spacing-lg);
        }
        
        .card-header {
            border-bottom: 1px solid var(--border-secondary);
            padding-bottom: var(--spacing-md);
            margin-bottom: var(--spacing-lg);
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .card-title {
            font-size: 20px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .card-actions {
            display: flex;
            gap: var(--spacing-md);
        }
        
        /* å›¾è¡¨ç½‘æ ¼å¸ƒå±€ */
        .charts-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(500px, 1fr));
            gap: var(--spacing-lg);
            margin-bottom: var(--spacing-xl);
        }
        
        .chart-card {
            background-color: var(--bg-primary);
            border-radius: var(--border-radius-lg);
            box-shadow: var(--shadow-sm);
            padding: var(--spacing-lg);
            position: relative;
        }
        
        .chart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-md);
        }
        
        .chart-title {
            font-size: 16px;
            font-weight: 600;
            color: var(--text-primary);
        }
        
        .chart-actions {
            display: flex;
            gap: var(--spacing-sm);
        }
        
        .chart-container {
            height: 350px;
            position: relative;
            border: 1px solid var(--border-secondary);
            border-radius: var(--border-radius-md);
            background-color: var(--bg-primary);
        }
        
        /* æ¨¡æ‹Ÿå›¾è¡¨æ ·å¼ */
        .mock-chart {
            width: 100%;
            height: 100%;
            display: flex;
            align-items: center;
            justify-content: center;
            flex-direction: column;
            color: var(--text-secondary);
            background: linear-gradient(45deg, transparent 25%, rgba(24, 144, 255, 0.05) 25%, rgba(24, 144, 255, 0.05) 50%, transparent 50%, transparent 75%, rgba(24, 144, 255, 0.05) 75%);
            background-size: 20px 20px;
        }
        
        .mock-chart-icon {
            font-size: 48px;
            margin-bottom: var(--spacing-md);
            opacity: 0.6;
        }
        
        .mock-chart-text {
            font-size: 14px;
            text-align: center;
            line-height: 1.5;
        }
        
        /* å›¾è¡¨æ§åˆ¶é¢æ¿ */
        .chart-controls {
            background-color: var(--bg-secondary);
            border-radius: var(--border-radius-lg);
            padding: var(--spacing-lg);
            margin-bottom: var(--spacing-lg);
        }
        
        .controls-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: var(--spacing-lg);
        }
        
        .control-group {
            display: flex;
            flex-direction: column;
        }
        
        .control-label {
            font-size: 14px;
            font-weight: 500;
            color: var(--text-primary);
            margin-bottom: var(--spacing-sm);
        }
        
        .control-select {
            padding: var(--spacing-sm) var(--spacing-md);
            border: 1px solid var(--border-primary);
            border-radius: var(--border-radius-md);
            background-color: var(--bg-primary);
            font-size: 14px;
        }
        
        .control-select:focus {
            border-color: var(--border-focus);
            outline: none;
            box-shadow: 0 0 0 2px rgba(24, 144, 255, 0.2);
        }
        
        /* æŒ‰é’®æ ·å¼ */
        .btn {
            padding: 8px 16px;
            border-radius: var(--border-radius-md);
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s ease;
            border: 1px solid transparent;
            text-decoration: none;
            display: inline-block;
            font-size: 14px;
        }
        
        .btn-primary {
            background-color: var(--primary-color);
            color: var(--text-inverse);
        }
        
        .btn-primary:hover {
            background-color: var(--primary-light);
            box-shadow: var(--shadow-md);
        }
        
        .btn-secondary {
            background-color: transparent;
            border-color: var(--border-primary);
            color: var(--text-primary);
        }
        
        .btn-secondary:hover {
            border-color: var(--primary-color);
            color: var(--primary-color);
        }
        
        .btn-icon {
            padding: 6px;
            border-radius: var(--border-radius-sm);
            background-color: transparent;
            border: 1px solid var(--border-primary);
            color: var(--text-secondary);
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .btn-icon:hover {
            background-color: var(--bg-secondary);
            color: var(--text-primary);
        }
        
        /* å›¾ä¾‹æ ·å¼ */
        .chart-legend {
            display: flex;
            flex-wrap: wrap;
            gap: var(--spacing-md);
            margin-top: var(--spacing-md);
            padding-top: var(--spacing-md);
            border-top: 1px solid var(--border-secondary);
        }
        
        .legend-item {
            display: flex;
            align-items: center;
            gap: var(--spacing-sm);
        }
        
        .legend-color {
            width: 12px;
            height: 12px;
            border-radius: 2px;
        }
        
        .legend-text {
            font-size: 12px;
            color: var(--text-secondary);
        }
        
        /* å…¨å±æ¨¡å¼ */
        .fullscreen {
            position: fixed;
            top: 0;
            left: 0;
            width: 100vw;
            height: 100vh;
            background-color: var(--bg-primary);
            z-index: 1000;
            padding: var(--spacing-lg);
        }
        
        .fullscreen .chart-container {
            height: calc(100vh - 200px);
        }
        
        /* å·¥å…·æ  */
        .toolbar {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: var(--spacing-lg);
            flex-wrap: wrap;
            gap: var(--spacing-md);
        }
        
        .toolbar-left {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
        }
        
        .toolbar-right {
            display: flex;
            gap: var(--spacing-md);
            align-items: center;
        }
        
        /* é€‰é¡¹å¡ */
        .tabs {
            display: flex;
            border-bottom: 1px solid var(--border-secondary);
            margin-bottom: var(--spacing-lg);
            overflow-x: auto;
        }
        
        .tab {
            padding: var(--spacing-md) var(--spacing-lg);
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s ease;
            color: var(--text-secondary);
            font-weight: 500;
            white-space: nowrap;
        }
        
        .tab.active {
            color: var(--primary-color);
            border-bottom-color: var(--primary-color);
        }
        
        .tab:hover {
            color: var(--primary-color);
        }
        
        .tab-content {
            display: none;
        }
        
        .tab-content.active {
            display: block;
        }
        
        /* å“åº”å¼è®¾è®¡ */
        @media (max-width: 1200px) {
            .charts-grid {
                grid-template-columns: 1fr;
            }
        }
        
        @media (max-width: 768px) {
            .container {
                padding: var(--spacing-md);
            }
            
            .card {
                padding: var(--spacing-lg);
            }
            
            .chart-card {
                padding: var(--spacing-md);
            }
            
            .chart-container {
                height: 250px;
            }
            
            .controls-grid {
                grid-template-columns: 1fr;
            }
            
            .toolbar {
                flex-direction: column;
                align-items: stretch;
            }
            
            .toolbar-left,
            .toolbar-right {
                justify-content: center;
            }
            
            .card-header {
                flex-direction: column;
                gap: var(--spacing-md);
                align-items: stretch;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- é¡µé¢æ ‡é¢˜å’Œå·¥å…·æ  -->
        <div class="card">
            <div class="card-header">
                <h1 class="card-title">å›¾è¡¨å¯è§†åŒ–åˆ†æ</h1>
                <div class="card-actions">
                    <button class="btn btn-secondary" id="back-to-results" onclick="history.back()">è¿”å›ç»“æœ</button>
                    <button class="btn btn-primary" id="export-charts">å¯¼å‡ºå›¾è¡¨</button>
                </div>
            </div>
            
            <!-- å›¾è¡¨æ§åˆ¶é¢æ¿ -->
            <div class="chart-controls">
                <div class="controls-grid">
                    <div class="control-group">
                        <label class="control-label">å›¾è¡¨ç±»å‹</label>
                        <select class="control-select" id="chartType">
                            <option value="all">å…¨éƒ¨å›¾è¡¨</option>
                            <option value="line">æŠ˜çº¿å›¾</option>
                            <option value="bar">æŸ±çŠ¶å›¾</option>
                            <option value="pie">é¥¼å›¾</option>
                            <option value="area">é¢ç§¯å›¾</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label">æ—¶é—´èŒƒå›´</label>
                        <select class="control-select" id="timeRange">
                            <option value="all">å…¨éƒ¨å¹´ä»½</option>
                            <option value="1-3">ç¬¬1-3å¹´</option>
                            <option value="4-5">ç¬¬4-5å¹´</option>
                            <option value="custom">è‡ªå®šä¹‰</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label">æ•°æ®ç»´åº¦</label>
                        <select class="control-select" id="dataDimension">
                            <option value="amount">é‡‘é¢</option>
                            <option value="ratio">æ¯”ä¾‹</option>
                            <option value="rate">æ”¶ç›Šç‡</option>
                            <option value="cumulative">ç´¯è®¡å€¼</option>
                        </select>
                    </div>
                    <div class="control-group">
                        <label class="control-label">å¯¹æ¯”åˆ†æ</label>
                        <select class="control-select" id="comparison">
                            <option value="none">æ— å¯¹æ¯”</option>
                            <option value="scenario">æƒ…æ™¯å¯¹æ¯”</option>
                            <option value="sensitivity">æ•æ„Ÿæ€§åˆ†æ</option>
                            <option value="benchmark">åŸºå‡†å¯¹æ¯”</option>
                        </select>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é€‰é¡¹å¡ -->
        <div class="tabs">
            <div class="tab active" data-tab="overview">æ¦‚è§ˆåˆ†æ</div>
            <div class="tab" data-tab="cashflow">ç°é‡‘æµåˆ†æ</div>
            <div class="tab" data-tab="allocation">åˆ†é…åˆ†æ</div>
            <div class="tab" data-tab="returns">æ”¶ç›Šåˆ†æ</div>
            <div class="tab" data-tab="risk">é£é™©åˆ†æ</div>
        </div>
        
        <!-- æ¦‚è§ˆåˆ†æé€‰é¡¹å¡ -->
        <div class="tab-content active" id="overview">
            <div class="charts-grid">
                <!-- æŠ•èµ„æ”¶ç›Šæ¦‚è§ˆ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æŠ•èµ„æ”¶ç›Šæ¦‚è§ˆ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ“Š</div>
                            <div class="mock-chart-text">
                                <strong>æŠ•èµ„æ”¶ç›Šæ¦‚è§ˆå›¾</strong><br>
                                æ˜¾ç¤ºæ€»æŠ•èµ„ã€æ€»æ”¶ç›Šã€å‡€æ”¶ç›Šç­‰å…³é”®æŒ‡æ ‡<br>
                                ä½¿ç”¨æŸ±çŠ¶å›¾å±•ç¤ºå„é¡¹æ•°æ®å¯¹æ¯”
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">æ€»æŠ•èµ„</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">æ€»æ”¶ç›Š</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">å‡€æ”¶ç›Š</span>
                        </div>
                    </div>
                </div>
                
                <!-- æ”¶ç›Šç‡è¶‹åŠ¿ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æ”¶ç›Šç‡è¶‹åŠ¿åˆ†æ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ“ˆ</div>
                            <div class="mock-chart-text">
                                <strong>æ”¶ç›Šç‡è¶‹åŠ¿å›¾</strong><br>
                                æ˜¾ç¤ºå„å¹´åº¦æ”¶ç›Šç‡å˜åŒ–è¶‹åŠ¿<br>
                                ä½¿ç”¨æŠ˜çº¿å›¾å±•ç¤ºæ—¶é—´åºåˆ—æ•°æ®
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">å¹´åŒ–æ”¶ç›Šç‡</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">é—¨æ§›æ”¶ç›Šç‡</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- ç°é‡‘æµåˆ†æé€‰é¡¹å¡ -->
        <div class="tab-content" id="cashflow">
            <div class="charts-grid">
                <!-- ç°é‡‘æµç€‘å¸ƒå›¾ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">ç°é‡‘æµç€‘å¸ƒå›¾</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸŒŠ</div>
                            <div class="mock-chart-text">
                                <strong>ç°é‡‘æµç€‘å¸ƒå›¾</strong><br>
                                æ˜¾ç¤ºå„å¹´åº¦ç°é‡‘æµå…¥æµå‡ºæƒ…å†µ<br>
                                æ¸…æ™°å±•ç¤ºç°é‡‘æµçš„ç´¯è®¡å˜åŒ–è¿‡ç¨‹
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">ç°é‡‘æµå…¥</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">ç°é‡‘æµå‡º</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">ç´¯è®¡ç°é‡‘æµ</span>
                        </div>
                    </div>
                </div>
                
                <!-- ç´¯è®¡ç°é‡‘æµè¶‹åŠ¿ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">ç´¯è®¡ç°é‡‘æµè¶‹åŠ¿</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ“Š</div>
                            <div class="mock-chart-text">
                                <strong>ç´¯è®¡ç°é‡‘æµè¶‹åŠ¿å›¾</strong><br>
                                æ˜¾ç¤ºæŠ•èµ„å›æ”¶æœŸå’Œç›ˆäºå¹³è¡¡ç‚¹<br>
                                ä½¿ç”¨é¢ç§¯å›¾å±•ç¤ºç´¯è®¡æ•ˆåº”
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">ç´¯è®¡ç°é‡‘æµ</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">ç›ˆäºå¹³è¡¡çº¿</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- åˆ†é…åˆ†æé€‰é¡¹å¡ -->
        <div class="tab-content" id="allocation">
            <div class="charts-grid">
                <!-- æ”¶ç›Šåˆ†é…é¥¼å›¾ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æ”¶ç›Šåˆ†é…ç»“æ„</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ¥§</div>
                            <div class="mock-chart-text">
                                <strong>æ”¶ç›Šåˆ†é…é¥¼å›¾</strong><br>
                                æ˜¾ç¤ºå„æŠ•èµ„äººçš„æ”¶ç›Šåˆ†é…æ¯”ä¾‹<br>
                                ç›´è§‚å±•ç¤ºæ”¶ç›Šåˆ†é…ç»“æ„
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">ä¼˜å…ˆçº§æŠ•èµ„äºº</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">åŠ£åçº§æŠ•èµ„äºº</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">ç®¡ç†äºº</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">ç®¡ç†äººCarry</span>
                        </div>
                    </div>
                </div>
                
                <!-- åˆ†é…é¡ºåºæµç¨‹å›¾ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">åˆ†é…é¡ºåºæµç¨‹</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ”„</div>
                            <div class="mock-chart-text">
                                <strong>åˆ†é…é¡ºåºæµç¨‹å›¾</strong><br>
                                æ˜¾ç¤ºæ”¶ç›Šåˆ†é…çš„å…ˆåé¡ºåº<br>
                                ä½¿ç”¨æ¡‘åŸºå›¾å±•ç¤ºèµ„é‡‘æµå‘
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">æœ¬é‡‘è¿”è¿˜</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">é¢„æœŸæ”¶ç›Š</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">è¶…é¢æ”¶ç›Š</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ”¶ç›Šåˆ†æé€‰é¡¹å¡ -->
        <div class="tab-content" id="returns">
            <div class="charts-grid">
                <!-- IRRå¯¹æ¯”åˆ†æ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">IRRå¯¹æ¯”åˆ†æ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ“Š</div>
                            <div class="mock-chart-text">
                                <strong>IRRå¯¹æ¯”æŸ±çŠ¶å›¾</strong><br>
                                å¯¹æ¯”å„æŠ•èµ„äººçš„å†…éƒ¨æ”¶ç›Šç‡<br>
                                å±•ç¤ºä¸åŒå±‚çº§çš„æ”¶ç›Šå·®å¼‚
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">ä¼˜å…ˆçº§IRR</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">åŠ£åçº§IRR</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">ç®¡ç†äººIRR</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">é—¨æ§›æ”¶ç›Šç‡</span>
                        </div>
                    </div>
                </div>
                
                <!-- æ”¶ç›Šå€æ•°åˆ†æ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æ”¶ç›Šå€æ•°åˆ†æ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ“ˆ</div>
                            <div class="mock-chart-text">
                                <strong>æ”¶ç›Šå€æ•°é›·è¾¾å›¾</strong><br>
                                å¤šç»´åº¦å±•ç¤ºæŠ•èµ„æ”¶ç›Šè¡¨ç°<br>
                                åŒ…æ‹¬MOICã€IRRã€å›æ”¶æœŸç­‰æŒ‡æ ‡
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">MOIC</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">IRR</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">å›æ”¶æœŸ</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- é£é™©åˆ†æé€‰é¡¹å¡ -->
        <div class="tab-content" id="risk">
            <div class="charts-grid">
                <!-- æ•æ„Ÿæ€§åˆ†æ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æ•æ„Ÿæ€§åˆ†æ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ¯</div>
                            <div class="mock-chart-text">
                                <strong>æ•æ„Ÿæ€§åˆ†æå›¾</strong><br>
                                åˆ†æå…³é”®å‚æ•°å˜åŒ–å¯¹æ”¶ç›Šçš„å½±å“<br>
                                ä½¿ç”¨é¾™å·é£å›¾å±•ç¤ºæ•æ„Ÿæ€§æ’åº
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">é—¨æ§›æ”¶ç›Šç‡</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">ç®¡ç†äººCarry</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-3);"></div>
                            <span class="legend-text">æŠ•èµ„æœŸé™</span>
                        </div>
                    </div>
                </div>
                
                <!-- æƒ…æ™¯åˆ†æ -->
                <div class="chart-card">
                    <div class="chart-header">
                        <h3 class="chart-title">æƒ…æ™¯åˆ†æ</h3>
                        <div class="chart-actions">
                            <button class="btn-icon" title="å…¨å±" onclick="toggleFullscreen(this)">
                                <span>â›¶</span>
                            </button>
                            <button class="btn-icon" title="ä¸‹è½½" onclick="downloadChart(this)">
                                <span>â¬‡</span>
                            </button>
                        </div>
                    </div>
                    <div class="chart-container">
                        <div class="mock-chart">
                            <div class="mock-chart-icon">ğŸ­</div>
                            <div class="mock-chart-text">
                                <strong>æƒ…æ™¯åˆ†æå¯¹æ¯”å›¾</strong><br>
                                å¯¹æ¯”ä¹è§‚ã€åŸºå‡†ã€æ‚²è§‚ä¸‰ç§æƒ…æ™¯<br>
                                ä½¿ç”¨åˆ†ç»„æŸ±çŠ¶å›¾å±•ç¤ºå·®å¼‚
                            </div>
                        </div>
                    </div>
                    <div class="chart-legend">
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-2);"></div>
                            <span class="legend-text">ä¹è§‚æƒ…æ™¯</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-1);"></div>
                            <span class="legend-text">åŸºå‡†æƒ…æ™¯</span>
                        </div>
                        <div class="legend-item">
                            <div class="legend-color" style="background-color: var(--chart-color-4);"></div>
                            <span class="legend-text">æ‚²è§‚æƒ…æ™¯</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- æ“ä½œæŒ‰é’® -->
        <div style="display: flex; justify-content: space-between; align-items: center; margin-top: var(--spacing-xl); padding-top: var(--spacing-lg); border-top: 1px solid var(--border-secondary);">
            <button type="button" class="btn btn-secondary">è¿”å›ç»“æœé¡µé¢</button>
            <div>
                <button type="button" class="btn btn-secondary" style="margin-right: var(--spacing-md);">ä¿å­˜å›¾è¡¨</button>
                <button type="button" class="btn btn-primary">å¯¼å‡ºåˆ†ææŠ¥å‘Š</button>
            </div>
        </div>
    </div>
    
    <!-- å¼•å…¥JavaScriptæ–‡ä»¶ -->
    <script src="js/api-client.js"></script>
    <script src="js/main.js"></script>
    
    <script>
        // åˆå§‹åŒ–
        document.addEventListener('DOMContentLoaded', function() {
            bindTabEvents();
            bindControlEvents();
            // åŠ è½½è®¡ç®—ç»“æœ
            loadCalculationResults();
            // ç»‘å®šäº‹ä»¶ç›‘å¬å™¨
            bindChartEvents();
            // åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨
            initializeAllCharts();
        });
        
        function bindChartEvents() {
            // å¯¼å‡ºå›¾è¡¨æŒ‰é’®äº‹ä»¶
            const exportBtn = document.getElementById('export-charts');
            if (exportBtn) {
                exportBtn.addEventListener('click', handleChartExport);
            }
            
            // å›¾è¡¨ç±»å‹åˆ‡æ¢äº‹ä»¶
            document.querySelectorAll('.chart-type-btn').forEach(btn => {
                btn.addEventListener('click', function() {
                    switchChartType(this.dataset.chart);
                });
            });
        }
        
        function loadCalculationResults() {
            // ä»å…¨å±€çŠ¶æ€æˆ–æœ¬åœ°å­˜å‚¨åŠ è½½è®¡ç®—ç»“æœ
            if (typeof AppState !== 'undefined' && AppState && AppState.calculationResults) {
                generateCharts(AppState.calculationResults);
            } else {
                // å°è¯•ä»æœ¬åœ°å­˜å‚¨åŠ è½½
                const savedData = localStorage.getItem('fund-calculation-results');
                if (savedData) {
                    try {
                        const results = JSON.parse(savedData);
                        generateCharts(results);
                    } catch (error) {
                        console.error('åŠ è½½è®¡ç®—ç»“æœå¤±è´¥:', error);
                        showNoChartsMessage();
                    }
                } else {
                    showNoChartsMessage();
                }
            }
        }
        
        function generateCharts(results) {
            try {
                // ç”Ÿæˆæ”¶ç›Šåˆ†é…é¥¼å›¾
                generateAllocationPieChart(results);
                
                // ç”Ÿæˆç°é‡‘æµè¶‹åŠ¿å›¾
                generateCashFlowTrendChart(results);
                
                // ç”Ÿæˆç´¯è®¡æ”¶ç›Šå›¾
                generateCumulativeReturnChart(results);
                
                // ç”ŸæˆæŠ•èµ„å›æ”¶æœŸå›¾
                generatePaybackPeriodChart(results);
                
                console.log('å›¾è¡¨ç”Ÿæˆå®Œæˆ');
                
            } catch (error) {
                console.error('å›¾è¡¨ç”Ÿæˆå¤±è´¥:', error);
                if (typeof ErrorHandler !== 'undefined') {
                    ErrorHandler.showError('å›¾è¡¨ç”Ÿæˆå¤±è´¥: ' + error.message);
                }
            }
        }
        
        function generateAllocationPieChart(results) {
            // æ”¶ç›Šåˆ†é…é¥¼å›¾
            const chartContainer = document.getElementById('allocation-pie-chart');
            if (!chartContainer) return;
            
            // æ¨¡æ‹Ÿæ•°æ® - å®é™…åº”ä»resultsä¸­æå–
            const data = [
                { name: 'ä¼˜å…ˆçº§æŠ•èµ„äºº', value: 5000000, color: '#4CAF50' },
                { name: 'åŠ£åçº§æŠ•èµ„äºº', value: 3000000, color: '#2196F3' },
                { name: 'ç®¡ç†äºº', value: 1000000, color: '#FF9800' },
                { name: 'ç®¡ç†äººCarry', value: 500000, color: '#9C27B0' }
            ];
            
            generateSimplePieChart(chartContainer, data, 'æ”¶ç›Šåˆ†é…ç»“æ„');
        }
        
        function generateCashFlowTrendChart(results) {
            // ç°é‡‘æµè¶‹åŠ¿å›¾
            const chartContainer = document.getElementById('cash-flow-trend-chart');
            if (!chartContainer) return;
            
            // æ¨¡æ‹Ÿæ•°æ® - å®é™…åº”ä»resultsä¸­æå–
            const data = {
                labels: ['ç¬¬1å¹´', 'ç¬¬2å¹´', 'ç¬¬3å¹´', 'ç¬¬4å¹´', 'ç¬¬5å¹´'],
                datasets: [{
                    label: 'ç°é‡‘æµå…¥',
                    data: [0, 1000000, 2000000, 3500000, 5000000],
                    borderColor: '#4CAF50',
                    backgroundColor: 'rgba(76, 175, 80, 0.1)'
                }, {
                    label: 'ç°é‡‘æµå‡º',
                    data: [-10000000, 0, 0, 0, 0],
                    borderColor: '#F44336',
                    backgroundColor: 'rgba(244, 67, 54, 0.1)'
                }]
            };
            
            generateSimpleLineChart(chartContainer, data, 'ç°é‡‘æµè¶‹åŠ¿');
        }
        
        function generateCumulativeReturnChart(results) {
            // ç´¯è®¡æ”¶ç›Šå›¾
            const chartContainer = document.getElementById('cumulative-return-chart');
            if (!chartContainer) return;
            
            // æ¨¡æ‹Ÿæ•°æ®
            const data = {
                labels: ['ç¬¬1å¹´', 'ç¬¬2å¹´', 'ç¬¬3å¹´', 'ç¬¬4å¹´', 'ç¬¬5å¹´'],
                datasets: [{
                    label: 'ç´¯è®¡æ”¶ç›Šç‡',
                    data: [-100, -80, -20, 15, 35],
                    borderColor: '#2196F3',
                    backgroundColor: 'rgba(33, 150, 243, 0.1)',
                    fill: true
                }]
            };
            
            generateSimpleLineChart(chartContainer, data, 'ç´¯è®¡æ”¶ç›Šç‡å˜åŒ–');
        }
        
        function generatePaybackPeriodChart(results) {
            // æŠ•èµ„å›æ”¶æœŸå›¾
            const chartContainer = document.getElementById('payback-period-chart');
            if (!chartContainer) return;
            
            // æ¨¡æ‹Ÿæ•°æ®
            const data = [
                { name: 'å·²å›æ”¶', value: 60, color: '#4CAF50' },
                { name: 'æœªå›æ”¶', value: 40, color: '#E0E0E0' }
            ];
            
            generateSimplePieChart(chartContainer, data, 'æŠ•èµ„å›æ”¶è¿›åº¦');
        }
        
        function generateSimplePieChart(container, data, title) {
            // ç®€å•çš„SVGé¥¼å›¾å®ç°
            const width = 400;
            const height = 300;
            const radius = Math.min(width, height) / 2 - 40;
            
            const total = data.reduce((sum, item) => sum + item.value, 0);
            
            let svg = `<svg width="${width}" height="${height}" style="margin: 20px auto; display: block;">`;
            svg += `<text x="${width/2}" y="20" text-anchor="middle" font-size="16" font-weight="bold">${title}</text>`;
            
            let currentAngle = 0;
            const centerX = width / 2;
            const centerY = height / 2;
            
            data.forEach((item, index) => {
                const angle = (item.value / total) * 2 * Math.PI;
                const x1 = centerX + radius * Math.cos(currentAngle);
                const y1 = centerY + radius * Math.sin(currentAngle);
                const x2 = centerX + radius * Math.cos(currentAngle + angle);
                const y2 = centerY + radius * Math.sin(currentAngle + angle);
                
                const largeArcFlag = angle > Math.PI ? 1 : 0;
                
                const pathData = [
                    `M ${centerX} ${centerY}`,
                    `L ${x1} ${y1}`,
                    `A ${radius} ${radius} 0 ${largeArcFlag} 1 ${x2} ${y2}`,
                    'Z'
                ].join(' ');
                
                svg += `<path d="${pathData}" fill="${item.color}" stroke="white" stroke-width="2"/>`;
                
                // æ·»åŠ æ ‡ç­¾
                const labelAngle = currentAngle + angle / 2;
                const labelX = centerX + (radius * 0.7) * Math.cos(labelAngle);
                const labelY = centerY + (radius * 0.7) * Math.sin(labelAngle);
                
                svg += `<text x="${labelX}" y="${labelY}" text-anchor="middle" font-size="12" fill="white">`;
                svg += `${item.name}</text>`;
                
                currentAngle += angle;
            });
            
            svg += '</svg>';
            
            // æ·»åŠ å›¾ä¾‹
            let legend = '<div style="display: flex; justify-content: center; flex-wrap: wrap; margin-top: 10px;">';
            data.forEach(item => {
                legend += `<div style="display: flex; align-items: center; margin: 5px 10px;">`;
                legend += `<div style="width: 16px; height: 16px; background-color: ${item.color}; margin-right: 5px;"></div>`;
                legend += `<span style="font-size: 14px;">${item.name}: ${formatNumber(item.value)}</span>`;
                legend += '</div>';
            });
            legend += '</div>';
            
            container.innerHTML = svg + legend;
        }
        
        function generateSimpleLineChart(container, data, title) {
            // ç®€å•çš„SVGæŠ˜çº¿å›¾å®ç°
            const width = 500;
            const height = 300;
            const padding = 60;
            
            let svg = `<svg width="${width}" height="${height}" style="margin: 20px auto; display: block;">`;
            svg += `<text x="${width/2}" y="20" text-anchor="middle" font-size="16" font-weight="bold">${title}</text>`;
            
            // ç»˜åˆ¶åæ ‡è½´
            svg += `<line x1="${padding}" y1="${height-padding}" x2="${width-padding}" y2="${height-padding}" stroke="#ccc" stroke-width="1"/>`;
            svg += `<line x1="${padding}" y1="${padding}" x2="${padding}" y2="${height-padding}" stroke="#ccc" stroke-width="1"/>`;
            
            // ç»˜åˆ¶æ•°æ®çº¿
            data.datasets.forEach((dataset, datasetIndex) => {
                const points = dataset.data.map((value, index) => {
                    const x = padding + (index / (dataset.data.length - 1)) * (width - 2 * padding);
                    const maxValue = Math.max(...dataset.data);
                    const minValue = Math.min(...dataset.data);
                    const range = maxValue - minValue || 1;
                    const y = height - padding - ((value - minValue) / range) * (height - 2 * padding);
                    return `${x},${y}`;
                });
                
                svg += `<polyline points="${points.join(' ')}" fill="none" stroke="${dataset.borderColor}" stroke-width="2"/>`;
                
                // ç»˜åˆ¶æ•°æ®ç‚¹
                dataset.data.forEach((value, index) => {
                    const x = padding + (index / (dataset.data.length - 1)) * (width - 2 * padding);
                    const maxValue = Math.max(...dataset.data);
                    const minValue = Math.min(...dataset.data);
                    const range = maxValue - minValue || 1;
                    const y = height - padding - ((value - minValue) / range) * (height - 2 * padding);
                    
                    svg += `<circle cx="${x}" cy="${y}" r="4" fill="${dataset.borderColor}"/>`;
                });
            });
            
            // æ·»åŠ Xè½´æ ‡ç­¾
            data.labels.forEach((label, index) => {
                const x = padding + (index / (data.labels.length - 1)) * (width - 2 * padding);
                svg += `<text x="${x}" y="${height - padding + 20}" text-anchor="middle" font-size="12">${label}</text>`;
            });
            
            svg += '</svg>';
            
            // æ·»åŠ å›¾ä¾‹
            let legend = '<div style="display: flex; justify-content: center; flex-wrap: wrap; margin-top: 10px;">';
            data.datasets.forEach(dataset => {
                legend += `<div style="display: flex; align-items: center; margin: 5px 10px;">`;
                legend += `<div style="width: 16px; height: 3px; background-color: ${dataset.borderColor}; margin-right: 5px;"></div>`;
                legend += `<span style="font-size: 14px;">${dataset.label}</span>`;
                legend += '</div>';
            });
            legend += '</div>';
            
            container.innerHTML = svg + legend;
        }
        
        function initializeAllCharts() {
            console.log('åˆå§‹åŒ–æ‰€æœ‰å›¾è¡¨...');
        }
        
        function switchChartType(chartType) {
            // åˆ‡æ¢å›¾è¡¨ç±»å‹
            console.log('åˆ‡æ¢å›¾è¡¨ç±»å‹:', chartType);
        }
        
        function showNoChartsMessage() {
            const container = document.querySelector('.container');
            if (container) {
                container.innerHTML = `
                    <div class="card">
                        <div class="card-header">
                            <h1>æš‚æ— å›¾è¡¨æ•°æ®</h1>
                            <p>è¯·å…ˆå®Œæˆè®¡ç®—ä»¥ç”Ÿæˆå›¾è¡¨</p>
                        </div>
                        <div class="action-bar">
                            <button class="btn btn-primary" onclick="window.location.href='../index.html'">è¿”å›é¦–é¡µ</button>
                        </div>
                    </div>
                `;
            }
        }
        
        // å¯¼å‡ºå›¾è¡¨åŠŸèƒ½
        async function handleChartExport() {
            try {
                // åˆ›å»ºä¸€ä¸ªåŒ…å«æ‰€æœ‰å›¾è¡¨çš„HTML
                const chartsGrid = document.querySelector('.charts-grid');
                const chartsHtml = chartsGrid ? chartsGrid.innerHTML : '';
                
                const exportHtml = `
                    <!DOCTYPE html>
                    <html>
                    <head>
                        <meta charset="UTF-8">
                        <title>æ”¶ç›Šåˆ†é…å›¾è¡¨æŠ¥å‘Š</title>
                        <style>
                            body { font-family: Arial, sans-serif; margin: 20px; }
                            .chart-container { margin: 20px 0; padding: 20px; border: 1px solid #ddd; }
                            .chart-title { font-size: 18px; font-weight: bold; margin-bottom: 10px; }
                        </style>
                    </head>
                    <body>
                        <h1>æ”¶ç›Šåˆ†é…å›¾è¡¨æŠ¥å‘Š</h1>
                        <p>ç”Ÿæˆæ—¶é—´: ${new Date().toLocaleString('zh-CN')}</p>
                        ${chartsHtml}
                    </body>
                    </html>
                `;
                
                const dataBlob = new Blob([exportHtml], { type: 'text/html' });
                const url = URL.createObjectURL(dataBlob);
                
                const link = document.createElement('a');
                link.href = url;
                link.download = `æ”¶ç›Šåˆ†é…å›¾è¡¨æŠ¥å‘Š_${new Date().toISOString().slice(0, 10)}.html`;
                link.click();
                
                URL.revokeObjectURL(url);
                
                alert('å›¾è¡¨å¯¼å‡ºæˆåŠŸï¼');
                
            } catch (error) {
                console.error('å›¾è¡¨å¯¼å‡ºå¤±è´¥:', error);
                alert('å›¾è¡¨å¯¼å‡ºå¤±è´¥: ' + error.message);
            }
        }
        
        // æ ¼å¼åŒ–å‡½æ•°
        function formatNumber(value, decimals = 0) {
            if (typeof value !== 'number' || isNaN(value)) {
                return '0';
            }
            return value.toLocaleString('zh-CN', {
                minimumFractionDigits: decimals,
                maximumFractionDigits: decimals
            });
        }
        
        // é€‰é¡¹å¡åˆ‡æ¢
        function bindTabEvents() {
            const tabs = document.querySelectorAll('.tab');
            const contents = document.querySelectorAll('.tab-content');
            
            tabs.forEach(tab => {
                tab.addEventListener('click', function() {
                    const targetTab = this.dataset.tab;
                    
                    // ç§»é™¤æ‰€æœ‰activeçŠ¶æ€
                    tabs.forEach(t => t.classList.remove('active'));
                    contents.forEach(c => c.classList.remove('active'));
                    
                    // æ·»åŠ activeçŠ¶æ€
                    this.classList.add('active');
                    document.getElementById(targetTab).classList.add('active');
                });
            });
        }
        
        // ç»‘å®šæ§åˆ¶é¢æ¿äº‹ä»¶
        function bindControlEvents() {
            const controls = document.querySelectorAll('.control-select');
            
            controls.forEach(control => {
                control.addEventListener('change', function() {
                    updateCharts();
                });
            });
        }
        
        // æ›´æ–°å›¾è¡¨
        function updateCharts() {
            const chartType = document.getElementById('chartType').value;
            const timeRange = document.getElementById('timeRange').value;
            const dataDimension = document.getElementById('dataDimension').value;
            const comparison = document.getElementById('comparison').value;
            
            console.log('æ›´æ–°å›¾è¡¨é…ç½®:', {
                chartType,
                timeRange,
                dataDimension,
                comparison
            });
            
            // è¿™é‡Œå¯ä»¥è°ƒç”¨å›¾è¡¨åº“çš„æ›´æ–°æ–¹æ³•
            // ä¾‹å¦‚ï¼šupdateECharts(config);
        }
        
        // å…¨å±åˆ‡æ¢
        function toggleFullscreen(button) {
            const chartCard = button.closest('.chart-card');
            
            if (chartCard.classList.contains('fullscreen')) {
                chartCard.classList.remove('fullscreen');
                document.body.style.overflow = '';
                button.innerHTML = '<span>â›¶</span>';
            } else {
                chartCard.classList.add('fullscreen');
                document.body.style.overflow = 'hidden';
                button.innerHTML = '<span>âœ•</span>';
            }
        }
        
        // ä¸‹è½½å›¾è¡¨
        function downloadChart(button) {
            const chartCard = button.closest('.chart-card');
            const chartTitle = chartCard.querySelector('.chart-title').textContent;
            
            alert(`ä¸‹è½½å›¾è¡¨: ${chartTitle}\nå®é™…å¼€å‘ä¸­å°†æ”¯æŒPNGã€SVGã€PDFç­‰æ ¼å¼`);
        }
        
        // å¯¼å‡ºæ‰€æœ‰å›¾è¡¨
        function exportAllCharts() {
            alert('å¯¼å‡ºæ‰€æœ‰å›¾è¡¨åŠŸèƒ½å°†åœ¨å®é™…å¼€å‘ä¸­å®ç°\næ”¯æŒæ‰¹é‡å¯¼å‡ºä¸ºPDFæŠ¥å‘Š');
        }
        
        // é”®ç›˜å¿«æ·é”®
        document.addEventListener('keydown', function(e) {
            // ESCé”®é€€å‡ºå…¨å±
            if (e.key === 'Escape') {
                const fullscreenChart = document.querySelector('.chart-card.fullscreen');
                if (fullscreenChart) {
                    fullscreenChart.classList.remove('fullscreen');
                    document.body.style.overflow = '';
                    const button = fullscreenChart.querySelector('.btn-icon');
                    if (button) {
                        button.innerHTML = '<span>â›¶</span>';
                    }
                }
            }
        });
        
        // ç»‘å®šæŒ‰é’®äº‹ä»¶
        document.addEventListener('click', function(e) {
            if (e.target.textContent === 'å¯¼å‡ºå›¾è¡¨' || e.target.textContent === 'å¯¼å‡ºåˆ†ææŠ¥å‘Š') {
                exportAllCharts();
            }
        });
    </script>
</body>
</html>